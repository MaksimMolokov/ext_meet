ТЕХНИЧЕСКОЕ ЗАДАНИЕ Google Chrome Extension для записи аудио встреч
(Google Meet и Zoom Web)

1.  Введение 1.1 Цель продукта Разработка расширения Google Chrome
    (Manifest V3), предназначенного для записи полного аудио-потока
    встречи в Google Meet и Zoom (веб-версия). Запись должна содержать
    все голоса участников, которые слышит пользователь во время встречи
    (общий аудио-микс вкладки).

1.2 Целевая аудитория - Менеджеры и руководители - Интервьюеры -
Преподаватели и студенты - Пользователи, которым необходимо сохранить
аудиозапись встречи

1.3 Термины Tab Audio Capture — захват аудио текущей вкладки браузера.
System Audio — системный звук, захватываемый через getDisplayMedia. MV3
— Manifest Version 3 для Chrome Extensions. Offscreen Document — скрытый
документ для фоновой обработки аудио. Web Audio API — API для обработки
и микширования аудио в браузере.

2.  Область охвата (Scope)

2.1 Входит в MVP: - Запись аудио вкладки Google Meet или Zoom -
Управление записью: Start / Pause / Resume / Stop - Сохранение
аудиофайла на компьютер пользователя - Минимальная история записей
(метаданные) - Явный индикатор записи (иконка + статус)

2.2 Не входит в MVP: - Транскрибация - Саммаризация - Облачное
хранение - Разделение голосов по участникам

3.  Функциональные требования

3.1 Поддерживаемые платформы: - https://meet.google.com -
https://zoom.us (веб-версия)

3.2 Захват аудио: Основной путь: Tab Audio Capture выбранной вкладки.
Fallback: getDisplayMedia с включенной опцией аудио. Опционально: захват
микрофона пользователя (по выбору).

3.3 Формат записи (MVP): Формат по умолчанию: WebM (Opus codec).
Параметры: - Sample rate: 48000 Hz - Bitrate: 128–192 kbps - Stereo

3.4 Сохранение: Имя файла: YYYY-MM-DD_HHMM_(Meet|Zoom)_Recording.webm

Сохранение через Chrome downloads API.

3.5 История записей: Хранить метаданные в chrome.storage: - Название -
Дата - Длительность - Размер файла - Платформа

4.  Нефункциональные требования

-   Поддержка записи длительностью не менее 1 часа (цель — 2 часа).
-   Аудио не передается на сервер.
-   Минимальные разрешения (principle of least privilege).
-   Совместимость: Chrome Stable, Windows/macOS.

5.  Архитектура

Компоненты: - Service Worker (управление состоянием) - Offscreen
Document (захват и кодирование аудио) - Content Script (детект
встречи) - Popup UI (управление записью)

Поток данных: Источник аудио (Tab/System) → Web Audio API →
MediaRecorder → Chunk Buffer → Финализация → Download

Состояния: idle → recording → paused → finalizing → completed/error

6.  Разрешения (Permissions)

-   tabCapture — захват аудио вкладки
-   activeTab — доступ к текущей вкладке
-   scripting — внедрение content script
-   storage — хранение метаданных
-   downloads — сохранение файла
-   offscreen — обработка аудио
-   notifications — уведомления пользователю

7.  UI

Popup: - Кнопка Start - Pause - Stop - Таймер записи - Индикатор
источника

Иконка расширения: - Красная точка во время записи

8.  Политики и комплаенс

-   Пользователь подтверждает право записи.
-   Явный индикатор записи обязателен.
-   Аудио не передается третьим лицам.
-   Пользователь несет ответственность за соблюдение законодательства.

9.  План релизов

MVP: - Запись аудио вкладки - Сохранение файла - Индикатор записи -
История метаданных

v1.1: - Микрофон + микс - Формат WAV - Горячие клавиши

v2: - Облачное хранение - Транскрибация - Интеграции

10. Критерии приемки

-   Запись 60+ минут без ошибок.
-   Файл корректно воспроизводится.
-   Слышны все участники встречи.
-   Корректное имя файла.
-   Индикатор записи всегда отображается.
